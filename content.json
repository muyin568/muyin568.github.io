{"pages":[{"title":"About","date":"2025-03-11T14:11:10.173Z","path":"about/index.html","text":""},{"title":"categories","date":"2025-03-12T00:21:03.000Z","path":"categories/index.html","text":""},{"title":"Tags","date":"2025-03-12T23:44:41.796Z","path":"tags/index.html","text":""}],"posts":[{"title":"802.15.4-mac_frm","date":"2025-03-10T11:23:52.000Z","path":"wiki/802-15-4-mac-frm/","text":"ä¸»è¦ä»‹ç»äº† 802.15.4 mac layer pdu å½¢å¼ä¸å„ bit å«ä¹‰ General MAC frame format frm control Bits 0â€“2 3 4â€“5 6 7 8 9 10â€“11 12â€“13 14â€“15 Field Frame Type Security Enabled Frame Pending AR PAN ID Compression Reserved Sequence Number Suppression IE Present Destination Addressing Mode Frame Version mac frm type b2 b1 b0 Description 0 0 0 Beacon 0 0 1 Data 0 1 0 Acknowledgment 0 1 1 MAC command 1 0 0 Reserved 1 0 1 Multipurpose 1 1 0 Fragment or Fraka 1 1 1 Extended Security EnabledSecurity Enabled å­—æ®µè§£æå­—æ®µåŠŸèƒ½Security Enabled å­—æ®µç”¨äºæŒ‡ç¤º MAC å­å±‚æ˜¯å¦å¯¹è¯¥å¸§è¿›è¡Œäº†å®‰å…¨ä¿æŠ¤ã€‚ è‹¥ Security Enabled = 1ï¼Œè¡¨ç¤ºè¯¥å¸§å·²å¯ç”¨å®‰å…¨ä¿æŠ¤ã€‚MAC å¸§å¤´ï¼ˆMHRï¼‰ä¸­å¿…é¡»åŒ…å« Auxiliary Security Headerã€‚ è‹¥ Security Enabled = 0ï¼Œè¡¨ç¤ºè¯¥å¸§æœªå¯ç”¨å®‰å…¨ä¿æŠ¤ã€‚MAC å¸§å¤´ä¸­ä¸åŒ…å«è¾…åŠ©å®‰å…¨å¤´ã€‚ æ€»ç»“ Security Enabled å€¼ ä½œç”¨ 1 å¯ç”¨ MAC å±‚å®‰å…¨ä¿æŠ¤ï¼Œå¸§å¤´åŒ…å«è¾…åŠ©å®‰å…¨å¤´ 0 æœªå¯ç”¨å®‰å…¨ä¿æŠ¤ï¼Œå¸§å¤´ä¸åŒ…å«è¾…åŠ©å®‰å…¨å¤´ --- Frame Pending å­—æ®µè§£æå­—æ®µåŠŸèƒ½Frame Pending å­—æ®µç”¨äºæŒ‡ç¤ºå‘é€è®¾å¤‡æ˜¯å¦æœ‰æ›´å¤šæ•°æ®ç­‰å¾…å‘é€ç»™æ¥æ”¶è®¾å¤‡ã€‚ è‹¥ Frame Pending = 1ï¼Œè¡¨ç¤ºå‘é€è®¾å¤‡ä»æœ‰æ•°æ®å¾…å‘é€ã€‚ è‹¥ Frame Pending = 0ï¼Œè¡¨ç¤ºå½“å‰æ— å¾…å‘é€æ•°æ®ã€‚ é€‚ç”¨åœºæ™¯ä¿¡æ ‡å¸§ï¼ˆBeacon Frameï¼‰ ä»…åœ¨ä¿¡æ ‡å¸§ï¼ˆBeacon Frameï¼‰æˆ–åœ¨ ä¿¡æ ‡ä½¿èƒ½ PANï¼ˆbeacon-enabled PANï¼‰å†…çš„ CAP æ—¶æ®µ å‘é€çš„æ•°æ®å¸§ä¸­ä½¿ç”¨ã€‚ åœ¨ éä¿¡æ ‡ä½¿èƒ½ PANï¼ˆnonbeacon-enabled PANï¼‰ä¸­ï¼Œå¯åœ¨ä»»æ„æ—¶é—´ä½¿ç”¨è¯¥å­—æ®µã€‚ ä½èƒ½è€—ï¼ˆLEï¼‰CSL æ¨¡å¼ è‹¥ Frame Pending = 1ï¼Œè¡¨ç¤ºå‘é€è®¾å¤‡ä»æœ‰æ•°æ®ï¼Œå¹¶æœŸæœ›æ¥æ”¶è®¾å¤‡ä¿æŒå°„é¢‘ï¼ˆRFï¼‰å¼€å¯ï¼Œç›´åˆ° Frame Pending å˜ä¸º 0ã€‚ TSCH æ¨¡å¼ è‹¥ Frame Pending = 1ï¼Œè¡¨ç¤ºæ¥æ”¶è®¾å¤‡åœ¨ ä¸‹ä¸€æ—¶éš™ï¼ˆtimeslotï¼‰ ä»éœ€ä¿æŒåœ¨çº¿ï¼Œå¹¶åœ¨ç›¸åŒä¿¡é“ç­‰å¾…æ•°æ®ï¼ˆè‹¥å½“å‰æ— è°ƒåº¦çš„é“¾è·¯ï¼‰ã€‚ å…¶ä»–æƒ…å†µ é™¤ä¸Šè¿°æƒ…å†µå¤–ï¼ŒFrame Pending å­—æ®µåœ¨ å‘é€æ—¶åº”å§‹ç»ˆè®¾ä¸º 0ï¼Œæ¥æ”¶æ—¶åº”å¿½ç•¥è¯¥å­—æ®µã€‚ æ€»ç»“ Frame Pending å€¼ ä½œç”¨ 1 å‘é€è®¾å¤‡ä»æœ‰å¾…å‘é€çš„æ•°æ®ï¼Œæ¥æ”¶è®¾å¤‡åº”ç»§ç»­ç›‘å¬ 0 å‘é€è®¾å¤‡æ— å¾…å‘é€æ•°æ®ï¼Œæ¥æ”¶è®¾å¤‡å¯è¿›å…¥ä½åŠŸè€—æ¨¡å¼ --- AR å­—æ®µè§£æå­—æ®µåŠŸèƒ½ARï¼ˆAcknowledgment Requestï¼Œç¡®è®¤è¯·æ±‚ï¼‰å­—æ®µç”¨äºæŒ‡å®šæ¥æ”¶è®¾å¤‡åœ¨æ”¶åˆ°æ•°æ®å¸§ï¼ˆData Frameï¼‰æˆ– MAC å‘½ä»¤å¸§ï¼ˆMAC Command Frameï¼‰åï¼Œæ˜¯å¦éœ€è¦å‘é€ç¡®è®¤å¸§ï¼ˆAck Frameï¼‰ã€‚ å­—æ®µè§„åˆ™AR &#x3D; 1ï¼ˆéœ€è¦ç¡®è®¤ï¼‰ æ¥æ”¶è®¾å¤‡åœ¨æˆåŠŸæ¥æ”¶å¸§åï¼Œå¿…é¡»å‘é€ Ack ç¡®è®¤å¸§ï¼Œå‰ææ˜¯è¯¥å¸§é€šè¿‡äº†å¸§è¿‡æ»¤ï¼ˆå‚è€ƒ 6.7.2 ç« èŠ‚ï¼‰ã€‚ é€‚ç”¨äºå¯é ä¼ è¾“åœºæ™¯ï¼Œä¾‹å¦‚å…³é”®æ§åˆ¶æŒ‡ä»¤ï¼ˆå¦‚ MAC å‘½ä»¤å¸§ï¼‰æˆ–éœ€è¦ä¿è¯æ•°æ®å®Œæ•´ä¼ è¾“çš„æ•°æ®å¸§ã€‚ AR &#x3D; 0ï¼ˆä¸éœ€è¦ç¡®è®¤ï¼‰ æ¥æ”¶è®¾å¤‡ä¸ä¼šå‘é€ Ack ç¡®è®¤å¸§ã€‚ é€‚ç”¨äºæ— éœ€å¯é ä¼ è¾“çš„æƒ…å†µï¼Œä¾‹å¦‚å¹¿æ’­å¸§ï¼ˆBroadcast Frameï¼‰æˆ–å¯¹æ•°æ®ä¸¢å¤±ä¸æ•æ„Ÿçš„åº”ç”¨åœºæ™¯ã€‚ AR å­—æ®µçš„å½±å“æé«˜ä¼ è¾“å¯é æ€§å¯ç”¨ ARï¼Œå‘é€è®¾å¤‡å¯ä»¥ç¡®ä¿æ•°æ®æˆåŠŸåˆ°è¾¾ï¼Œå¦åˆ™ä¼šè¿›è¡Œé‡ä¼ ï¼ˆå¦‚æœæ”¯æŒï¼‰ã€‚ é™ä½èƒ½è€—å…³é—­ AR å¯ä»¥å‡å°‘é¢å¤–çš„ Ack ä¼ è¾“ï¼Œä»è€Œé™ä½è®¾å¤‡åŠŸè€—ï¼Œé€‚ç”¨äºä½åŠŸè€— IoT è®¾å¤‡ã€‚ ä¼˜åŒ–ä¿¡é“å ç”¨åœ¨é«˜æµé‡ç½‘ç»œä¸­ï¼Œé¿å…ä¸å¿…è¦çš„ Ackï¼Œå¯ä»¥å‡å°‘ä¿¡é“ç«äº‰ï¼Œæé«˜æ•´ä½“é€šä¿¡æ•ˆç‡ã€‚ æ€»ç»“ AR å€¼ æ˜¯å¦éœ€è¦ Ack é€‚ç”¨åœºæ™¯ 1 éœ€è¦ å…³é”®æ•°æ®ï¼ŒMAC å‘½ä»¤ï¼Œå¯é ä¼ è¾“ 0 ä¸éœ€è¦ å¹¿æ’­å¸§ï¼Œéå…³é”®æ•°æ®ï¼Œä½åŠŸè€—åœºæ™¯ --- PAN ID Compression å­—æ®µè§£æå­—æ®µä½œç”¨PAN ID Compression å­—æ®µç”¨äºæŒ‡ç¤º PAN IDï¼ˆä¸ªäººåŒºåŸŸç½‘ç»œæ ‡è¯†ï¼‰ æ˜¯å¦åŒ…å«åœ¨ MAC å¸§ä¸­ï¼Œä»¥å‡å°‘æ•°æ®å¼€é”€ã€‚ è§£æè§„åˆ™ å½“ å¸§ç‰ˆæœ¬ï¼ˆFrame Versionï¼‰å­—æ®µå€¼ ä¸º 0b00 æˆ– 0b01 æ—¶ï¼š åŒæ—¶åŒ…å«ç›®æ ‡åœ°å€å’Œæºåœ°å€æ—¶ï¼š è‹¥ ç›®æ ‡ PAN ID ä¸æº PAN ID ç›¸åŒï¼Œåˆ™ PAN ID Compression è®¾ä¸º 1ï¼Œçœç•¥ Source PAN ID å­—æ®µã€‚ è‹¥ ç›®æ ‡ PAN ID ä¸æº PAN ID ä¸åŒï¼Œåˆ™ PAN ID Compression è®¾ä¸º 0ï¼ŒåŒæ—¶åŒ…å« Destination PAN ID å’Œ Source PAN ID å­—æ®µã€‚ ä»…åŒ…å«ç›®æ ‡åœ°å€æˆ–æºåœ°å€æ—¶ï¼š PAN ID Compression è®¾ä¸º 0ï¼Œå¹¶ä¸”è¯¥åœ°å€çš„ PAN ID å­—æ®µå¿…é¡»åŒ…å«åœ¨ MAC å¸§ä¸­ã€‚ å½“ å¸§ç‰ˆæœ¬å­—æ®µå€¼ ä¸º 0b10 æ—¶ï¼š PAN ID Compression å­—æ®µçš„å…·ä½“è®¾ç½®å–å†³äº ä¿¡æ ‡å¸§ï¼ˆBeacon Frameï¼‰ã€æ•°æ®å¸§ï¼ˆData Frameï¼‰ã€MAC å‘½ä»¤å¸§ï¼ˆMAC Command Frameï¼‰å’Œç¡®è®¤å¸§ï¼ˆAck Frameï¼‰ çš„åœ°å€æ ¼å¼ï¼Œå¹¶éµå¾ª è¡¨ 7-2 è§„å®šçš„ç»„åˆæ–¹å¼ã€‚ ä»»ä½•ä¸ç¬¦åˆ è¡¨ 7-2 è§„å®šçš„ç»„åˆæ–¹å¼ä¸åº”ç”Ÿæˆã€‚ Destination Address Source Address Destination PAN ID Source PAN ID PAN ID Compression Not Present Not Present Not Present Not Present 0 Not Present Not Present Present Not Present 1 Present Not Present Present Not Present 0 Present Not Present Not Present Not Present 1 Not Present Present Not Present Present 0 Not Present Present Not Present Not Present 1 Extended Extended Present Not Present 0 Extended Extended Not Present Not Present 1 Shorta Shorta Present Present 0 Shorta Extended Present Present 0 Extended Shorta Present Present 0 Shorta Extended Present Not Present 1 Extended Shorta Present Not Present 1 Shorta Shorta Present Not Present 1 æ€»ç»“ PAN ID Compression å€¼ å«ä¹‰ 1 ç›®æ ‡ PAN ID ä¸æº PAN ID ç›¸åŒï¼Œçœç•¥ Source PAN ID 0 ç›®æ ‡ PAN ID ä¸æº PAN ID ä¸åŒï¼Œéœ€åŒ…å« Destination PAN ID å’Œ Source PAN ID è¯¥å­—æ®µçš„ä½¿ç”¨å¯ä»¥æœ‰æ•ˆå‡å°‘ MAC å¸§é•¿åº¦ï¼Œä¼˜åŒ–ç½‘ç»œé€šä¿¡æ•ˆç‡ã€‚ğŸ“¡ ---","tags":[{"name":"802.15.4","slug":"802-15-4","permalink":"http://example.com/tags/802-15-4/"}],"categories":[{"name":"802.15.4","slug":"802-15-4","permalink":"http://example.com/categories/802-15-4/"}]},{"title":"802.15.4-sec_related","date":"2025-03-08T02:54:19.000Z","path":"wiki/802-15-4-sec-related/","text":"ä»¥ drawio æµç¨‹å›¾çš„å½¢å¼ä»‹ç»äº† 802.15.4(2015) mac layer çš„åŠ è§£å¯†ï¼Œä¸»è¦æœ‰ï¼šincoming frm dec, outcoming frm enc, secure related PIBsã€‚ æ³¨ï¼š802.15.4 2015&#x2F;2006&#x2F;2003 ç‰ˆæœ¬åŠ è§£å¯†flowä¸Šå­˜åœ¨å·®å¼‚ÃŸç‚¹å‡»æµç¨‹å›¾å¯ä»¥å…¨å±å±•å¼€ outgoing frm - enc incoming frm - sec on - dec incoming frm - sec on - dec sec pib related","tags":[{"name":"802.15.4","slug":"802-15-4","permalink":"http://example.com/tags/802-15-4/"}],"categories":[{"name":"802.15.4","slug":"802-15-4","permalink":"http://example.com/categories/802-15-4/"}]}],"categories":[{"name":"802.15.4","slug":"802-15-4","permalink":"http://example.com/categories/802-15-4/"}],"tags":[{"name":"802.15.4","slug":"802-15-4","permalink":"http://example.com/tags/802-15-4/"}]}